<?php

// Cargar configuraciÃ³n desde apollo.json
$apolloConfig = [];
$apolloJsonPath = dirname(__DIR__) . '/apollo.json';

if (file_exists($apolloJsonPath)) {
    $apolloConfig = json_decode(file_get_contents($apolloJsonPath), true) ?? [];
}

return [
    /*
    |--------------------------------------------------------------------------
    | Application Name
    |--------------------------------------------------------------------------
    */
    'name' => env('APP_NAME', $apolloConfig['name'] ?? 'Apollo Framework'),

    /*
    |--------------------------------------------------------------------------
    | Application Environment
    |--------------------------------------------------------------------------
    */
    'env' => env('APP_ENV', 'production'),

    /*
    |--------------------------------------------------------------------------
    | Application Debug Mode
    |--------------------------------------------------------------------------
    */
    'debug' => env('APP_DEBUG', false),

    /*
    |--------------------------------------------------------------------------
    | Application URL
    |--------------------------------------------------------------------------
    */
    'url' => env('APP_URL', 'http://localhost'),

    /*
    |--------------------------------------------------------------------------
    | Application Timezone
    |--------------------------------------------------------------------------
    */
    'timezone' => $apolloConfig['timezone'] ?? 'UTC',

    /*
    |--------------------------------------------------------------------------
    | Application Locale Configuration
    |--------------------------------------------------------------------------
    */
    'locale' => $apolloConfig['locale'] ?? 'en',
    'fallback_locale' => 'en',

    /*
    |--------------------------------------------------------------------------
    | Encryption Key
    |--------------------------------------------------------------------------
    */
    'key' => env('APP_KEY'),

    /*
    |--------------------------------------------------------------------------
    | Registered Applications (from apollo.json)
    |--------------------------------------------------------------------------
    */
    'apps' => $apolloConfig['apps'] ?? [],

    /*
    |--------------------------------------------------------------------------
    | Service Providers (from apollo.json)
    |--------------------------------------------------------------------------
    */
    'providers' => $apolloConfig['providers'] ?? [],

    /*
    |--------------------------------------------------------------------------
    | API Configuration (from apollo.json)
    |--------------------------------------------------------------------------
    */
    'api' => [
        'prefix' => env('API_PREFIX', $apolloConfig['api']['prefix'] ?? 'api'),
        'version' => env('API_VERSION', $apolloConfig['api']['version'] ?? 'v1'),
    ],
];
